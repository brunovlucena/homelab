---
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# ðŸ”— Linkerd Service Mesh Installation
# Managed via Jobs that run the linkerd CLI to ensure compatibility

resources:
  # 1. Create namespaces first
  - namespace.yaml
  
  # 2. Install Linkerd CRDs (includes Gateway API CRDs)
  - linkerd-crds-job.yaml
  
  # 3. Generate Trust Anchor and Identity Certificates
  - linkerd-trust-anchor-job.yaml
  
  # 4. Install Linkerd Control Plane
  - linkerd-control-plane-job.yaml
  
  # 5. Install Linkerd SMI Extension
  - linkerd-smi-job.yaml