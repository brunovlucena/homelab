# Optional NodePort Service for External Access
# This is not required for cluster-internal access
# Uncomment and apply if you need external access to the Prometheus MCP service
#
# To enable external access:
# 1. Uncomment this resource in kustomization.yaml
# 2. Update kind.yaml port mapping: containerPort: 30140 -> hostPort: 31140
# 3. Access via: http://localhost:31140

apiVersion: v1
kind: Service
metadata:
  name: prometheus-mcp-external
  namespace: prometheus-mcp
  labels:
    app: prometheus-mcp
spec:
  type: NodePort
  ports:
    - port: 80
      targetPort: 8000
      nodePort: 30140
      protocol: TCP
      name: http
  selector:
    serving.knative.dev/service: prometheus-mcp

