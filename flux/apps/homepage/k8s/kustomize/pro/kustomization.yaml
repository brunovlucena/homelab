apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

resources:
  - ../base

# Pro has no cloudflare-tunnel operator
patches:
  - patch: |-
      $patch: delete
      apiVersion: tunnel.cloudflare.io/v1alpha1
      kind: CloudflareTunnelIngress
      metadata:
        name: homepage-frontend
        namespace: homepage
    target:
      kind: CloudflareTunnelIngress
      name: homepage-frontend

# ğŸ·ï¸ Image override for pro (local registry)
images:
  - name: localhost:5001/homepage-api
    newTag: v0.1.27
  - name: localhost:5001/homepage-frontend
    newTag: v0.1.27

# ğŸ“ Pro-specific labels
commonLabels:
  environment: pro
